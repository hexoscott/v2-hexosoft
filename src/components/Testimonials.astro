---
const testimonials = [
  {
    quote: "Scott is an experienced and highly capable solution builder and developer. He not only delivers requirements on time and to specification, but is also able to anticipate and interpret complex needs as they arise. \n\nHe’s great to work with – personable, dependable, and consistently reliable. I’ve worked very closely with Scott for over five years and would trust him to deliver projects on behalf of my business at any time.",
    name: 'Max Revitt',
    title: 'CEO, Revitt',
  }
];

const gridClass = testimonials.length === 1
  ? 'card-grid max-w-xl'
  : testimonials.length === 2
    ? 'card-grid md:grid-cols-2'
    : 'card-grid md:grid-cols-3';
---

<section id="testimonials" class="page-section">
  <div class="page-container">
    <div class="section-header">
      <p class="label-overline mb-3">In their words</p>
      <h2 class="section-heading">What businesses say</h2>
    </div>
    <div class={gridClass}>
      {testimonials.map((t) => (
        <blockquote class="testimonial-card card-surface flex flex-col gap-8">
          <p class="font-display text-xl font-semibold text-slate-900 leading-snug whitespace-pre-line">
            &ldquo;{t.quote}&rdquo;
          </p>
          <footer class="mt-auto flex items-center gap-4">
            <div class="w-8 h-px bg-ion-blue flex-shrink-0"></div>
            <div>
              <p class="font-display text-sm font-semibold text-slate-900 uppercase tracking-wide">{t.name}</p>
              <p class="font-ui text-xs text-slate-600 mt-0.5">{t.title}</p>
            </div>
          </footer>
        </blockquote>
      ))}
    </div>
  </div>
</section>

<style>
  .testimonial-card {
    opacity: 0;
    animation: fade-up 0.55s ease forwards;
  }

  .testimonial-card:nth-child(1) { animation-delay: 0.1s; }
  .testimonial-card:nth-child(2) { animation-delay: 0.22s; }
  .testimonial-card:nth-child(3) { animation-delay: 0.34s; }

  @keyframes fade-up {
    from { opacity: 0; transform: translateY(18px); }
    to   { opacity: 1; transform: translateY(0); }
  }
</style>
